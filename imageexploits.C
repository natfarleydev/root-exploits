#include <iostream>
#include <TGraph2D.h>
#include <TArrayL.h>
#include <TASImage.h>

using namespace std;

void imageexploits() {
  TASImage * i1 = new TASImage("image-3.jpg");
  i1->Crop(74,614,500,532);
  TArrayL * a1 = new TArrayL();
  a1 = i1->GetPixels();
  Int_t x_max = 500;
  double zArray[267033];
  double xArray[267033];
  double yArray[267033];
  ofstream outfile("out.out");
  for(Int_t y = 0; y<=532; y++) {
    for(Int_t x = 0;x<=x_max; x++) {
      double tmp = a1[y*x_max+x];
      zArray[y*x_max+x]= tmp; cout << "(" << tmp << ",";
      xArray[y*x_max+x] = x; cout << x << ",";
      yArray[y*x_max+x] = y; cout << y << ")" << endl;
      // outfile << tmp << " ";
    }
    // outfile << endl;
  }

  TGraph2D *g = new TGraph2D(267033,xArray,yArray,zArray);
  g->Draw();
  
}
