// Todo set log scales foo'!

Double_t fitf(Double_t *x, Double_t *par)
{
  // A simple function to create I = G_0 V exp(V/V_0)
  return par[0]*x[0]*TMath::Exp(x[0]/par[1]);
}

void analysis() {

  // Declarations
  TGraph *g2 = new TGraph("2013-02-28-beam-off.dat1",format="%*lg %*lg %*lg %*lg %lg %lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg %*lg",option=":,");
  TCanvas *c1 = new TCanvas("c1", "IV Curve Canvas", 2240, 0, 640,750);

  // Formatting
  g2->SetTitle("IV Curve");
  g2->GetXaxis()->SetTitle("Forward Voltage, V_{F}");
  g2->GetYaxis()->SetTitle("Current, A");

  // Axes Limits
  g2->GetHistogram()->SetMinimum(1.0E-9);
  g2->GetXaxis()->SetLimits(1E-5,20);

  // Drawing the graph
  g2->Draw("A*");

  // Logs, ticks and the grid
  c1->SetLogx(1);
  c1->SetLogy(1);
  c1->SetTicks(2,2);
  c1->SetGrid(1);

}
